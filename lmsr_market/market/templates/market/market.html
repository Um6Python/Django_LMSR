{% extends 'base.html' %}

{% block title %}Market{% endblock %}

{% block content %}
<h2>Market</h2>
{% if market %}
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">{{ market.name }}</h5>
            <p class="card-text">Current Prices:</p>
            <ul class="list-group list-group-flush">
                {% for outcome, price in prices.items %}
                    <li class="list-group-item">{{ outcome }}: {{ price }}</li>
                {% endfor %}
            </ul>
        </div>
    </div>
    <h3>Your Transactions</h3>
    <ul class="list-group">
        {% for transaction in user_transactions %}
            <li class="list-group-item">
                {{ transaction.shares }} shares of {{ transaction.outcome }} at ${{ transaction.cost }}
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No market available.</p>
{% endif %}
{% endblock %}